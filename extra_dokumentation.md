# Extra dokumentation efter inlämning
Jag sa i dokumentationen att jag skulle försöka fixa localstorage för att spara game progress. Detta har jag gjort. Det jag har gjort förutom det har mest varit polering av spelet. Detta inkluderar bland annat att sänka opaciteten av upgradekorten när spelaren inte har råd med uppgraderingen, göra att myntet man klickar på animeras när man klickar på den och göra så att man skrollar genom sin achievments list när den blir tillräckligt lång istället för att förlänga hela sidan.

Dessutom fixade jag ett error med gambling och charity som gjorde att ens pengar förvandlades till NaN om man skrev in och skickade in en tom input eller en input som inte är ett nummber. Nu går inte detta, och spelet säger till spelaren att skriva in ett nummer istället. Det går inte heller att donera pengar eller använda gambling om man har mindre än $0. Om man däremot hamnar under $0 får man en achievement, vilket jag också har lagt till efter inlämning.

Sist men inte minst lade jag till en liten förändring som gör så att spelaren inte kan klicka på saker som ligger bakom skattepopuppen. Detta gör så att spelaren tvingas att betala skatt, och inte kan fortsätta klicka eller köpa uppgraderingar.

## Hur jag implementerade localstorage
Detta är troligtvis den största ändringen jag gjorde efter inlämningen, och dessutom den svåraste att implementera. Jag började givetvis med att läsa på om localstorage och försöka förstå mig på hur det fungerar. Därefter gjorde jag så att alla pengar sparas efter att man laddar om sidan. Jag insåg ganska snabbt att detta inte var nog för mitt spel för att det skulle fungera, eftersom att ens dollar per klick och dollar per sekund inte sparades. Det gjorde inte heller ens achievements, så när man laddade om sidan blev man bombarderad med notifikationer om att man fått en massa achievements. Jag behövde därmed strukturera om hur jag sparade mina variabler, och jag fick lära mig om hur man sparar listor med hjälp av ```JSON.stringify```. För att spara achievements och spara achievementlistan behövde jag skapa en ny variabel som skulle inkludera alla achievements som man har uppnått redan och spara denna i localstorage. Jag behövde sedan iterera över denna i en funktion liknande ```createCard()``` och skriva ut alla uppnådda achievements i listan på sidan när den laddas.

För att återställa all progression i spelet implementerade jag en knapp som ger spelaren en prompt via webbläsaren och varnar den om att man inte kan återställa sin progress efter att man har rensat den. Om spelaren trycker ja rensas alla variabler i localstorage och den måste börja om på nytt.

Det problem jag stötte på här var främst att jag inte kunde spara mina variabler i localstorage efter varje frame, eftersom detta skulle innebära att det sparas även efter att man har tryckt ja på återställningsknappen. Istället så bestämde jag mig för att spelet skulle spara mängden pengar efter varje gång man klickar på myntet. Pengar, dollar per sekund, dollar per klick samt mängden pengar skulle sparas efter varje gång man köper en uppgradering. Statusen på ens achievements sparas varje gång man får en achievement. Eftersom pengarna inte sparas varje sekund, dvs varje gång man får pengar via mps (money per second), så förloras alla de pengar som man får via mps om man inte klickar på myntet. Därför gjorde jag en funktion som körs varje tio sekunder och sparar alla variabler som behöver sparas i localstorage.